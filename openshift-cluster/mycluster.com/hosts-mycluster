# hosts file for mycluster.com
[OSEv3:children]
masters
etcd
nodes
nfs
lb

# configuring the openshift install version
[OSEv3:vars]
openshift_deployment_type=openshift-enterprise
deployment_type=openshift-enterprise
openshift_release=v3.6

# define pod and service network CIDR
osm_cluster_network_cidr=10.128.0.0/14
openshift_portal_net=172.30.0.0/16

# define master service port
openshift_master_api_port=443
openshift_master_console_port=8443

# define domain name service
openshift_master_cluster_public_hostname=console.mycluster.com
openshift_master_cluster_hostname=console.mycluster.com
openshift_master_default_subdomain=apps.mycluster.com

# define authentication provider and users
# the password was generated by command "htpasswd -nb <user> <password>". htpasswd was installed from apache2-utils 
openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true',
'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider', 'filename': '/etc/origin/master/htpasswd'}]
openshift_master_htpasswd_users={'admin': 'admin:$apr1$Quy88czb$o.wmoPFJ9gscEp1cDN9Qr1', 'developer': 'developer:$apr1$7niaNC9Y$qByPkjlFrWEh2Kfqzsy5./'}

# define load balance method
openshift_master_cluster_method=native

# Configuring NFS for an integrated registry
# enable NFS as back end
openshift_hosted_registry_storage_kind=nfs
# define access mode. allow volume to be mounted as read/write by many nodes
openshift_hosted_registry_storage_access_modes=['ReadWriteMany']
# define name of the exports directory
openshift_hosted_registry_storage_nfs_directory=/exports
# define NFS storage mode
openshift_hosted_registry_storage_nfs_options='*(rw,root_squash)'
# define registry volume
openshift_hosted_registry_storage_volume_name=registry
# define registry volume size
openshift_hosted_registry_storage_volume_size=10Gi

# Configure Docker integrade registry
# declares additional registries
openshift_docker_additional_registries=registry.mycluster.com:5000
# declares registry as insecure
openshift_docker_insecure_registries=registry.mycluster.com:5000
# prevents users from accessing the regsitries available at registry.access.redhat.com and docker.io
openshift_docker_blocked_registries=registry.access.redhat.com,docker.io
# define alternatives location for images
oreg_url=registry.mycluster.com:5000/openshift3/ose-${component}:${version}
# modify default image stream location to value defined by oreg_url
openshift_examples_modify_imagestreams=true

# Configure infra node selector
openshift_router_selector='region=infra'
openshift_registry_selector='region=infra'

# Configure node traffic interface
openshift_set_node_ip=True

# Disable checks due to hardware environment limitations
openshift_disable_check=disk_availability,docker_storage,memory_availability,docker_image_availability

# Define root user to connect to remote servers and override console image prefix
ansible_ssh_user=root
openshift_cockpit_deployer_prefix='openshift3/'

# Declare NFS group that declares the console VM as NFS server
[nfs]
nfs.example.com

# Select RPM method installation instead running a containerized version os OCP
[lb]
lb.mycluster.com containerized=false

# Define nodes that run Ectd server (five servers)
[etcd]
etcd[1:5].mycluster.com

# Identify hosts by IP address
[masters]
master1.mycluster.com openshift_ip=10.0.1.11 openshift_public_ip=10.0.1.11
master2.mycluster.com openshift_ip=10.0.1.12 openshift_public_ip=10.0.1.12
master3.mycluster.com openshift_ip=10.0.1.13 openshift_public_ip=10.0.1.13

[nodes]
master1.mycluster.com openshift_node_labels="{'region': 'master'}"
 openshift_schedulable=false openshift_ip=10.0.1.11 openshift_public_ip=10.0.1.11
master2.mycluster.com openshift_node_labels="{'region': 'master'}"
 openshift_schedulable=false openshift_ip=10.0.1.12 openshift_public_ip=10.0.1.12
master3.mycluster.com openshift_node_labels="{'region': 'master'}"
 openshift_schedulable=false openshift_ip=10.0.1.13 openshift_public_ip=10.0.1.13
infra1.mycluster.com openshift_node_labels="{'region': 'infra'}"
 openshift_ip=10.0.1.51 openshift_public_ip=10.0.1.51
infra2.mycluster.com openshift_node_labels="{'region': 'infra'}"
 openshift_ip=10.0.1.52 openshift_public_ip=10.0.1.52
infra3.mycluster.com openshift_node_labels="{'region': 'infra'}"
 openshift_ip=10.0.1.53 openshift_public_ip=10.0.1.53
infra4.mycluster.com openshift_node_labels="{'region': 'infra'}"
 openshift_ip=10.0.1.54 openshift_public_ip=10.0.1.54
infra5.mycluster.com openshift_node_labels="{'region': 'infra'}"
 openshift_ip=10.0.1.55 openshift_public_ip=10.0.1.55
apps1.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}"
 openshift_ip=10.0.1.60 openshift_public_ip=10.0.1.60
apps2.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}"
 openshift_ip=10.0.1.61 openshift_public_ip=10.0.1.61
apps3.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}"
 openshift_ip=10.0.1.62 openshift_public_ip=10.0.1.62
apps4.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}"
 openshift_ip=10.0.1.63 openshift_public_ip=10.0.1.63
apps5.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}"
 openshift_ip=10.0.1.64 openshift_public_ip=10.0.1.64
apps6.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}"
 openshift_ip=10.0.1.65 openshift_public_ip=10.0.1.65
apps7.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}"
 openshift_ip=10.0.1.66 openshift_public_ip=10.0.1.66
apps8.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}"
 openshift_ip=10.0.1.67 openshift_public_ip=10.0.1.67
apps9.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}"
 openshift_ip=10.0.1.68 openshift_public_ip=10.0.1.68
apps10.mycluster.com openshift_node_labels="{'region': 'primary', 'zone': 'local'}" 
 openshift_ip=10.0.1.69 openshift_public_ip=10.0.1.69
